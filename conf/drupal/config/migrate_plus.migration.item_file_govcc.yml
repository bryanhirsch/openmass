uuid: 843967bf-ff70-4c67-8b47-c7e34d83618a
langcode: en
status: true
dependencies:
  enforced:
    module:
      - mass_migration
      - file
_core:
  default_config_hash: zmdsUOkNUWvqiPIxPL6xcX18nJCXeyIdaOlJiW-xXQw
id: item_file_govcc
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags:
  - CSV
migration_group: gov_community_compact
label: 'Items Gov Community Compact Migration'
source:
  constants:
    destination_directory: 'public://documents'
  plugin: csv
  path: 'public://migration/document-list-dp-5899.csv'
  header_row_count: 1
  keys:
    - item_file_name
  fields:
    item_file_name: 'Unique file name for the item.'
    item_massgov_url: 'Mass.gov url.'
    rec_release_date: 'Release date of the record.'
process:
  uid:
    plugin: default_value
    default_value: 1
  langcode:
    plugin: default_value
    default_value: langcode
  status:
    plugin: default_value
    default_value: 1
  release_date:
    plugin: format_date
    from_format: m/d/y
    to_format: Y/m/d
    source: rec_release_date
  filename: item_file_name
  source_path: item_massgov_url
  destination_path:
    -
      plugin: mass_migration_file_path
      delimiter: /
      count: 2500
      source:
        - constants/destination_directory
        - '@release_date'
        - item_file_name
    -
      plugin: urlencode
  uri:
    plugin: file_copy
    source:
      - '@source_path'
      - '@destination_path'
destination:
  plugin: 'entity:file'
migration_dependencies: null
